# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Measurement Page Test >> Volume Measurement Test >> Should validate data for 3d Design volume
- Location: D:\Angelswing_QA\angelswing-automation-test\tests\frontend-tests\measurement.spec.ts:956:13

# Error details

```
TimeoutError: locator.click: Timeout 5000ms exceeded.
Call log:
  - waiting for getByText('Calculate the total cut/fill volume of the design.')

    at MapPage.checkCalculateTheTotalCutFillVolumeOfTheDesign (D:\Angelswing_QA\angelswing-automation-test\pages\MapPage.ts:256:89)
    at D:\Angelswing_QA\angelswing-automation-test\tests\frontend-tests\measurement.spec.ts:964:41
```

# Test source

```ts
  156 |         await this.page.locator('[data-ddm-track-label="btn-2d-view-comparison4"]').click();
  157 |     }
  158 |
  159 |     async clickOnSlider() {
  160 |         await this.page.locator('[data-ddm-track-label="btn-2d-view-slider"]').click();
  161 |     }
  162 |
  163 |     async clickOnScreenCapture() {
  164 |         await this.page.locator('[data-testid="map-screen-capture-btn"]').click();
  165 |     }
  166 |
  167 |     async getDataSetTitle() {
  168 |         const dataSetTitle = this.page.getByTestId('sidebar-wrapper').locator('+ div').locator('p');
  169 |         return await dataSetTitle.textContent();
  170 |     }
  171 |
  172 |     async ensureBackgroundIsNotDisplayed() {
  173 |         const toggle = this.page.getByTestId('basemap-toggle-button');
  174 |         const currentState = await toggle.getAttribute('data-ddm-track-label');
  175 |         if (currentState !== 'btn-toggle-basemap-off') {
  176 |             await toggle.click();
  177 |         }
  178 |     }
  179 |
  180 |     async clickOn3D() {
  181 |         await this.switchMapView('3D');
  182 |     }
  183 |     async clickOn2D() {
  184 |         await this.switchMapView('2D');
  185 |     }
  186 |
  187 |     private async switchMapView(view: string) {
  188 |         await this.page.locator('[id="2d-3d-toggle-button"]').locator('span', { hasText: `${view}` }).first().click();
  189 |     }
  190 |
  191 |     async expectMapViewToBe(mode: string) {
  192 |         const expectedLabel = mode === '2D' ? 'btn-toggle-display-3d' : 'btn-toggle-display-2d';
  193 |         await expect(this.page.locator('[id="2d-3d-toggle-button"]').first()).toHaveAttribute('data-ddm-track-label', expectedLabel);
  194 |     }
  195 |
  196 |     async getMapLayerCheckboxState(mapLayer: string): Promise<string> {
  197 |         const mapLayerElement = this.page.getByTestId('content-selection-box').filter({ hasText: mapLayer });
  198 |         await mapLayerElement.waitFor({ state: 'visible' });
  199 |         await mapLayerElement.scrollIntoViewIfNeeded();
  200 |         const checkboxState = await mapLayerElement.locator('div[data-ddm-track-label*="btn-contents-list-checkbox"]').getAttribute('data-state');
  201 |         if (checkboxState === null) {
  202 |             throw new Error(`Checkbox state attribute not found for map layer: ${mapLayer}`);
  203 |         }
  204 |         return checkboxState;
  205 |     }
  206 |
  207 |     async validateMapLayerIsChecked(mapLayer: string): Promise<void> {
  208 |         const checkboxState = await this.getMapLayerCheckboxState(mapLayer);
  209 |         console.log(`✅ Validating checkbox state for "${mapLayer}": ${checkboxState}`);
  210 |         expect(checkboxState).toBe('checked');
  211 |     }
  212 |
  213 |     async selectAndVerifyMapLayer(mapLayer: string, shouldClick = true): Promise<void> {
  214 |         const mapLayerElement = this.page.getByTestId('content-selection-box').filter({ hasText: mapLayer });
  215 |         await mapLayerElement.waitFor({ state: 'visible' });
  216 |         await mapLayerElement.scrollIntoViewIfNeeded();
  217 |         if (shouldClick) {
  218 |             await mapLayerElement.click();
  219 |         }
  220 |         const checkboxState = await this.getMapLayerCheckboxState(mapLayer);
  221 |         console.log(`✅ Verifying checkbox state for "${mapLayer}": ${checkboxState}`);
  222 |         expect(checkboxState).toBe('checked');
  223 |         if (mapLayer === 'Terrain' && shouldClick) {
  224 |             await mapLayerElement.click();
  225 |         }
  226 |     }
  227 |
  228 |     async clickOnLocationMarker() {
  229 |         await this.page.locator('[data-ddm-track-label="btn-create-marker-2d"]').click();
  230 |     }
  231 |     async clickOnLength() {
  232 |         await this.page.locator('[data-ddm-track-label="btn-create-length-2d"]').click();
  233 |     }
  234 |
  235 |     async clickOnBasicVolume() {
  236 |         await this.clickOnVolumeOption('Basic Volume');
  237 |     }
  238 |
  239 |     async clickOn3dDesignSurface() {
  240 |         await this.clickOnVolumeOption('3D Design Surface');
  241 |     }
  242 |
  243 |     async clickOnCompareSurvey() {
  244 |         await this.clickOnVolumeOption('Compare Survey');
  245 |     }
  246 |
  247 |     private async clickOnVolumeOption(optionText: string) {
  248 |         const volumeIcon = this.page.locator('ul._cancellable li').nth(4);
  249 |         const option = this.page.getByText(optionText);
  250 |
  251 |         await volumeIcon.hover();
  252 |         await option.click();
  253 |     }
  254 |
  255 |     async checkCalculateTheTotalCutFillVolumeOfTheDesign() {
> 256 |         await this.page.getByText('Calculate the total cut/fill volume of the design.').click();
      |                                                                                         ^ TimeoutError: locator.click: Timeout 5000ms exceeded.
  257 |     }
  258 |
  259 |     async clickOnCalculateButton() {
  260 |         await this.page.getByRole('button', { name: 'Calculate' }).click();
  261 |     }
  262 |
  263 |     async clickOn2DOrthomosaicCheckbox() {
  264 |         const orthoCheckbox = this.page.getByTestId('content-checkbox-orthophoto');
  265 |         await orthoCheckbox.click();
  266 |     }
  267 |
  268 |     async get2DOrthomosaicCheckboxState() {
  269 |         const orthoCheckbox = this.page.getByTestId('content-checkbox-orthophoto');
  270 |         return await orthoCheckbox.getAttribute('data-state');
  271 |     }
  272 |
  273 |     async clickOnTerrainCheckbox() {
  274 |         const terrainCheckbox = this.page.getByTestId('content-checkbox-dsm');
  275 |         await terrainCheckbox.click();
  276 |     }
  277 |
  278 |     async getTerrainCheckboxState() {
  279 |         const terrainCheckbox = this.page.getByTestId('content-checkbox-dsm');
  280 |         return await terrainCheckbox.getAttribute('data-state');
  281 |     }
  282 |
  283 |     async clickOn3dOrthomosaicCheckbox() {
  284 |         const orthoCheckbox = this.page.getByTestId('content-checkbox-terrain');
  285 |         await orthoCheckbox.click();
  286 |     }
  287 |
  288 |     async get3dOrthomosaicCheckboxState() {
  289 |         const orthoCheckbox = this.page.getByTestId('content-checkbox-terrain');
  290 |         await orthoCheckbox.scrollIntoViewIfNeeded();
  291 |         return await orthoCheckbox.getAttribute('data-state');
  292 |     }
  293 |
  294 |     async clickOnPointCloudCheckbox() {
  295 |         const pointCloudCheckbox = this.page.getByTestId('content-checkbox-las');
  296 |         await pointCloudCheckbox.click();
  297 |     }
  298 |
  299 |     async getPointCloudCheckboxState() {
  300 |         const pointCloudCheckbox = this.page.getByTestId('content-checkbox-las');
  301 |         await pointCloudCheckbox.scrollIntoViewIfNeeded();
  302 |         return await pointCloudCheckbox.getAttribute('data-state');
  303 |     }
  304 |
  305 |     async clickOn3dMeshModelCheckbox() {
  306 |         const meshModelCheckbox = this.page.getByTestId('content-checkbox-tiled_model');
  307 |         await meshModelCheckbox.click();
  308 |     }
  309 |
  310 |     async get3dMeshModelCheckboxState() {
  311 |         const meshModelCheckbox = this.page.getByTestId('content-checkbox-tiled_model');
  312 |         await meshModelCheckbox.scrollIntoViewIfNeeded();
  313 |         return await meshModelCheckbox.getAttribute('data-state');
  314 |     }
  315 |
  316 |     async clickOn2DOrthomosaic() {
  317 |         await this.page.locator('[data-ddm-track-label="btn-contents-list-2d"]').click();
  318 |     }
  319 |
  320 |     async clickOnTerrain() {
  321 |         await this.page.locator('[data-ddm-track-label="btn-contents-list-dsm"]').click();
  322 |     }
  323 |
  324 |     async clickOn3DOrthomosaic() {
  325 |         await this.page.locator('[data-ddm-track-label="btn-contents-list-3d-ortho"]').click();
  326 |     }
  327 |
  328 |     async clickOnPointCloud() {
  329 |         await this.page.locator('[data-ddm-track-label="btn-contents-list-3d-pointcloud"]').click();
  330 |     }
  331 |
  332 |     async clickOn3dMeshModel() {
  333 |         await this.page.locator('[data-ddm-track-label="btn-contents-list-3d-mesh"]').click();
  334 |     }
  335 |
  336 |     async isDatasetTitleIsDisplayed() {
  337 |         const datasetTitle = this.page.getByTestId('top-bar-screen-title-root');
  338 |         return await datasetTitle.isVisible();
  339 |     }
  340 |
  341 |     async isDownloadButtonIsDisplayed() {
  342 |         const downloadButton = this.page.locator('[data-ddm-track-label="btn-download"]');
  343 |         return await downloadButton.isVisible();
  344 |     }
  345 |
  346 |     async isRequestToPrintButtonIsDisplayed() {
  347 |         const requestToPrintButton = this.page.locator('[data-ddm-track-label="btn-print"]');
  348 |         return await requestToPrintButton.isVisible();
  349 |     }
  350 |
  351 |     async isShareButtonIsDisplayed() {
  352 |         const shareButton = this.page.locator('[data-ddm-track-label="btn-share"]');
  353 |         return await shareButton.isVisible();
  354 |     }
  355 |
  356 |     async isInviteButtonIsDisplayed() {
```