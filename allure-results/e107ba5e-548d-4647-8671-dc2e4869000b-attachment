# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Photo Gallery Page >> should validate 360 photo on the gallery page is selected when user click on it
- Location: D:\Angelswing_QA\angelswing-automation-test\tests\frontend-tests\photoGallery.spec.ts:253:9

# Error details

```
Error: expect(received).toContain(expected) // indexOf

Expected substring: "item selected"
Received string:    "2 items selected"
    at D:\Angelswing_QA\angelswing-automation-test\tests\frontend-tests\photoGallery.spec.ts:271:58
```

# Test source

```ts
  171 |         //Select the "Source Photo" filter
  172 |         await photoGalleryPage.clickAlbumFilter();
  173 |         await photoGalleryPage.clickFilterAlbumSourcePhoto();
  174 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('Source Photos');
  175 |
  176 |         //Select the "360 Photos" filter
  177 |        await photoGalleryPage.clickAlbumFilter();
  178 |         await photoGalleryPage.clickFilterAlbum360Photos();
  179 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° Photos');
  180 |         //Select the "360 Source Photo" filter
  181 |         await photoGalleryPage.clickAlbumFilter();
  182 |         await photoGalleryPage.clickFilterAlbum360SourcePhoto();
  183 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° Source Photos');
  184 |
  185 |         //Select the "360 Stitched Photos" filter
  186 |         await photoGalleryPage.clickAlbumFilter();
  187 |         await photoGalleryPage.clickFilterAlbum360StitchedPhotos();
  188 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° Stitched Photos');
  189 |
  190 |         //Select the "360 Video" filter
  191 |         await photoGalleryPage.clickAlbumFilter();
  192 |         await photoGalleryPage.clickFilterAlbum360Video();
  193 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° VSLAM Videos');
  194 |
  195 |         //Select the "Requested Photos" filter
  196 |         await photoGalleryPage.clickAlbumFilter();
  197 |         await photoGalleryPage.clickFilterAlbumRequestedPhotos();
  198 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('Requested Photos');
  199 |         
  200 |         //Select the "360 VSLAM Photos" filter
  201 |         await photoGalleryPage.clickAlbumFilter();
  202 |         await photoGalleryPage.clickFilterAlbum360VslamPhotos();
  203 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° VSLAM Photos');
  204 |
  205 |     });
  206 |
  207 |     test('should validate the photo on the gallery page is selected when user click on it', async () => {
  208 |         const photoGalleryPage = pm.onPhotoGallery;
  209 |
  210 |          //Click on timeline tab
  211 |          await photoGalleryPage.clickOnTimelineTab();
  212 |          expect(await photoGalleryPage.isTimelineTabShownAsSelected()).toBe(true);
  213 |
  214 |          //Select the "Birdeye" filter
  215 |          await photoGalleryPage.clickFilterAll();
  216 |          await photoGalleryPage.clickFilterBirdeye();
  217 |          expect(await photoGalleryPage.getFilterText()).toBe('Bird Eye View Photos');
  218 |
  219 |          //Click on the first photo available on the timeline tab
  220 |          await pm.onMapPage.clickOn3D();
  221 |          await pm.on3DMap.verify3DMapIsVisible();
  222 |          await photoGalleryPage.clickOnPhoto();
  223 |
  224 |         // Assert the photo is selected 
  225 |         expect(await photoGalleryPage.isPhotoSelected()).toContain('item selected');    
  226 |          
  227 |     })
  228 |
  229 |     test('should validate the inspection photo on the gallery page is selected when user click on it', async () => {
  230 |         const photoGalleryPage = pm.onPhotoGallery;
  231 |
  232 |          //Click on timeline tab
  233 |          await photoGalleryPage.clickOnTimelineTab();
  234 |          expect(await photoGalleryPage.isTimelineTabShownAsSelected()).toBe(true);
  235 |
  236 |          //Select the "inspection" filter
  237 |          await photoGalleryPage.clickFilterAll();
  238 |          await photoGalleryPage.clickFilterInspection();
  239 |          expect(await photoGalleryPage.getFilterText()).toBe('Inspection Photos');
  240 |
  241 |          //Click on the first photo available on the timeline tab
  242 |          await pm.onMapPage.clickOn3D();
  243 |          await pm.on3DMap.verify3DMapIsVisible();
  244 |          await photoGalleryPage.clickInspectionAlbum();
  245 |          await photoGalleryPage.clickOnPhotoInspection();
  246 |
  247 |         // Assert the photo is selected 
  248 |         expect(await photoGalleryPage.isPhotoSelected()).toContain('item selected');    
  249 |          
  250 |     })
  251 |
  252 |     
  253 |     test('should validate 360 photo on the gallery page is selected when user click on it', async () => {
  254 |         const photoGalleryPage = pm.onPhotoGallery;
  255 |
  256 |          //Click on timeline tab
  257 |          await photoGalleryPage.clickOnTimelineTab();
  258 |          expect(await photoGalleryPage.isTimelineTabShownAsSelected()).toBe(true);
  259 |
  260 |          //Select the "inspection" filter
  261 |          await photoGalleryPage.clickFilterAll();
  262 |          await photoGalleryPage.clickFilter360Photos();
  263 |          expect(await photoGalleryPage.getFilterText()).toBe('360° Photos');
  264 |
  265 |          //Click on the first photo available on the timeline tab
  266 |          await pm.onMapPage.clickOn3D();
  267 |          await pm.on3DMap.verify3DMapIsVisible();
  268 |          await photoGalleryPage.clickInspectionAlbum();
  269 |
  270 |         // Assert the photo is selected 
> 271 |         expect(await photoGalleryPage.isPhotoSelected()).toContain('item selected');    
      |                                                          ^ Error: expect(received).toContain(expected) // indexOf
  272 |          
  273 |     })
  274 |
  275 |
  276 |
  277 |     test('should able to upload the bird eye photo from the gallery', async () => {
  278 |         
  279 |         const photoGalleryPage = pm.onPhotoGallery;
  280 |          //Click on timeline tab
  281 |
  282 |         await photoGalleryPage.clickOnTimelineTab();
  283 |         expect(await photoGalleryPage.isTimelineTabShownAsSelected()).toBe(true);
  284 |
  285 |         const fileChooserPromise = pm.getPage.waitForEvent('filechooser');
  286 |         await photoGalleryPage.uploadPhotoFromGallery();
  287 |         await photoGalleryPage.clickonUploadButtonFileChooser();
  288 |         const fileChooser = await fileChooserPromise;
  289 |         
  290 |         await helper.waitForNumberOfSeconds(2);
  291 |         const folderPath = 'D:/Automation Upload/Bird eye photo';
  292 |         await photoGalleryPage.handleFileChooserWithImages(fileChooser, folderPath);
  293 |         await photoGalleryPage.clickonUploadButtonPopup();
  294 |         await helper.waitForNumberOfSeconds(25);
  295 |
  296 |         //Assert the success message is displayed
  297 |         expect(await photoGalleryPage.uploadSuccessMessage()).toContain('Successfully uploaded photos.');
  298 |         console.log(await photoGalleryPage.uploadSuccessMessage());
  299 |
  300 |         //Close the popup
  301 |         await photoGalleryPage.isCloseButtonShown();
  302 |     })
  303 |    
  304 |     test('should able to upload the inspection photo from the gallery', async () => {
  305 |         const photoGalleryPage = pm.onPhotoGallery;
  306 |         //Click on timeline tab
  307 |         await photoGalleryPage.clickOnTimelineTab();
  308 |         expect(await photoGalleryPage.isTimelineTabShownAsSelected()).toBe(true);
  309 |
  310 |         //Select the "Inspection" filter
  311 |         await photoGalleryPage.clickFilterAll();
  312 |         await photoGalleryPage.clickFilterInspection();
  313 |         expect(await photoGalleryPage.getFilterText()).toBe('Inspection Photos');
  314 |         await photoGalleryPage.clickOnPhoto();
  315 |
  316 |         const fileChooserPromise = pm.getPage.waitForEvent('filechooser');
  317 |         await photoGalleryPage.uploadPhotoFromGallery();
  318 |         await photoGalleryPage.clickonUploadButtonFileChooser();
  319 |         const fileChooser = await fileChooserPromise;
  320 |         
  321 |         await helper.waitForNumberOfSeconds(2);
  322 |         const folderPath = 'D:/Automation Upload/Bird eye photo';
  323 |         await photoGalleryPage.handleFileChooserWithImages(fileChooser, folderPath);
  324 |         await photoGalleryPage.clickonUploadButtonPopup();
  325 |         await helper.waitForNumberOfSeconds(20);
  326 |
  327 |          //Assert the success message is displayed
  328 |          expect(await photoGalleryPage.uploadSuccessMessage()).toContain('Successfully uploaded photos.');
  329 |
  330 |          //Close the popup
  331 |         await photoGalleryPage.isCloseButtonShown();
  332 |
  333 |        
  334 |     })
  335 |
  336 | })
```