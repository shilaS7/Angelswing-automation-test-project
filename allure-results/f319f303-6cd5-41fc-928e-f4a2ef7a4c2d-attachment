# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Photo Gallery Page >> should able to upload the photo from the gallery
- Location: D:\Angelswing_QA\angelswing-automation-test\tests\frontend-tests\photoGallery.spec.ts:220:9

# Error details

```
TimeoutError: page.waitForEvent: Timeout 5000ms exceeded while waiting for event "filechooser"
=========================== logs ===========================
waiting for event "filechooser"
============================================================
    at D:\Angelswing_QA\angelswing-automation-test\tests\frontend-tests\photoGallery.spec.ts:229:47
```

# Test source

```ts
  129 |
  130 |         //Select the "Bird Eye View" filter
  131 |         await photoGalleryPage.clickFilterLocation();
  132 |         expect(await photoGalleryPage.getFilterTextLocation()).toBe('Bird Eye View');
  133 |
  134 |         //Select the Inspection Photos filter
  135 |         // await photoGalleryPage.clickFilterLocation();
  136 |         await photoGalleryPage.clickFilterLocationInspection();
  137 |         expect(await photoGalleryPage.getFilterTextLocationFilter()).toBe('Inspection');
  138 |
  139 |         //Select the Source Photos filter
  140 |         await photoGalleryPage.clickFilterLocation();
  141 |         await photoGalleryPage.clickFilterLocationSource();
  142 |         expect(await photoGalleryPage.getFilterTextLocationFilter()).toBe('Source');
  143 |
  144 |         
  145 |         
  146 |     });
  147 |
  148 |     test('should validate the filter in album tab is working correctly', async () => {
  149 |         const photoGalleryPage = pm.onPhotoGallery;
  150 |         //Go to the album tab
  151 |         await photoGalleryPage.clickOnAlbumTab();
  152 |         expect(await photoGalleryPage.isAlbumTabShownAsSelected()).toBe(true);
  153 |
  154 |         //Select the "All" filter
  155 |         await photoGalleryPage.clickAlbumFilter();
  156 |         expect(await photoGalleryPage.isAlbumFilterShownAsSelected()).toBe(true);
  157 |
  158 |         //Select the "Birdeye" filter
  159 |         await photoGalleryPage.clickFilterAlbumBirdeye();
  160 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('Bird Eye View Photos');
  161 |        // expect(await photoGalleryPage.isBirdeyeFilterShownAsSelected()).toBe(true);
  162 |         
  163 |         //Select the "Inspection" filter
  164 |         await photoGalleryPage.clickAlbumFilter();
  165 |         await photoGalleryPage.clickFilterAlbumInspection();
  166 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('Inspection Photos');
  167 |
  168 |         //Select the "Source Photo" filter
  169 |         await photoGalleryPage.clickAlbumFilter();
  170 |         await photoGalleryPage.clickFilterAlbumSourcePhoto();
  171 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('Source Photos');
  172 |
  173 |         //Select the "360 Photos" filter
  174 |        await photoGalleryPage.clickAlbumFilter();
  175 |         await photoGalleryPage.clickFilterAlbum360Photos();
  176 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° Photos');
  177 |         //Select the "360 Source Photo" filter
  178 |         await photoGalleryPage.clickAlbumFilter();
  179 |         await photoGalleryPage.clickFilterAlbum360SourcePhoto();
  180 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° Source Photos');
  181 |
  182 |         //Select the "360 Stitched Photos" filter
  183 |         await photoGalleryPage.clickAlbumFilter();
  184 |         await photoGalleryPage.clickFilterAlbum360StitchedPhotos();
  185 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° Stitched Photos');
  186 |
  187 |         //Select the "360 Video" filter
  188 |         await photoGalleryPage.clickAlbumFilter();
  189 |         await photoGalleryPage.clickFilterAlbum360Video();
  190 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° VSLAM Videos');
  191 |
  192 |         //Select the "Requested Photos" filter
  193 |         await photoGalleryPage.clickAlbumFilter();
  194 |         await photoGalleryPage.clickFilterAlbumRequestedPhotos();
  195 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('Requested Photos');
  196 |         
  197 |         //Select the "360 VSLAM Photos" filter
  198 |         await photoGalleryPage.clickAlbumFilter();
  199 |         await photoGalleryPage.clickFilterAlbum360VslamPhotos();
  200 |         expect(await photoGalleryPage.getFilterTextAlbum()).toBe('360° VSLAM Photos');
  201 |
  202 |     });
  203 |
  204 |     test('should validate the photo on the gallery page is selected when user click on it', async () => {
  205 |         const photoGalleryPage = pm.onPhotoGallery;
  206 |
  207 |          //Click on timeline tab
  208 |          await photoGalleryPage.clickOnTimelineTab();
  209 |          expect(await photoGalleryPage.isTimelineTabShownAsSelected()).toBe(true);
  210 |
  211 |          //Click on the first photo available on the timeline tab
  212 |          await pm.onMapPage.clickOn3D();
  213 |          await pm.on3DMap.verify3DMapIsVisible();
  214 |          await photoGalleryPage.clickOnPhoto();
  215 |         // NEXT LINE IMGAE SELECTED OR NOT ASSERTION MISSING---ask Suraj Dai
  216 |         //  expect(await photoGalleryPage.isPhotoSelected()).toBe(true);
  217 |          
  218 |     })
  219 |
  220 |     test('should able to upload the photo from the gallery', async () => {
  221 |         
  222 |         const photoGalleryPage = pm.onPhotoGallery;
  223 |          //Click on timeline tab
  224 |         await photoGalleryPage.clickOnTimelineTab();
  225 |         expect(await photoGalleryPage.isTimelineTabShownAsSelected()).toBe(true);
  226 |
  227 |         await photoGalleryPage.uploadBirdEyePhotoFromGallery();
  228 |         await photoGalleryPage.clickonUploadButtonFileChooser();
> 229 |         const fileChooserPromise = pm.getPage.waitForEvent('filechooser');
      |                                               ^ TimeoutError: page.waitForEvent: Timeout 5000ms exceeded while waiting for event "filechooser"
  230 |         
  231 |         const fileChooser = await fileChooserPromise;
  232 |         
  233 |         await fileChooser.setFiles('./test-data/assets/Lizard.png');
  234 |         // await helper.waitForNumberOfSeconds(2);
  235 |         // expect(await photoGalleryPage.isPhotoUploaded()).toBe(true);
  236 |
  237 |
  238 |     })
  239 |
  240 |
  241 |
  242 |  
  243 |
  244 | })
```